[["index.html", "DATA MINING Master Meci - Parcours PISE et CCESE - Option Data", " DATA MINING Master Meci - Parcours PISE et CCESE - Option Data Camille Signoretto, Maître de conférences en économie, Université de Paris 2022-02-23 "],["00-Presentation.html", "Chapitre 1 Présentation À propos de ce document Prérequis Remerciements Licence", " Chapitre 1 Présentation À propos de ce document Ce document est la seconde version du cours de Data Mining dispensé aux étudiants de deuxième année de loption Data du master MECI parcours PISE et CCESE. Le cours est partagé avec Claude Grasland dont vous trouverez la partie de cours à ladresse suivante : https://ClaudeGrasland.github.io/DataMining1. Ce document est régulièrement corrigé et mis à jour. La version de référence est disponible en ligne à ladresse : https://github.com/Camille-Sisi/github.io-Data-Mining-Seance1. Pour toute suggestion ou correction, il est possible de me contacter par mail Prérequis Le seul prérequis pour suivre ce document est davoir installé R et RStudio sur votre ordinateur. Il sagit de deux logiciels libres, gratuits, téléchargeables en ligne et fonctionnant sous PC, Mac et Linux. Pour installer R, il suffit de se rendre sur une des pages suivantes 1 : Installer R sous Windows Installer R sous Mac Pour installer RStudio, rendez-vous sur la page suivante et téléchargez la version adaptée à votre système : https://www.rstudio.com/products/rstudio/download/#download Remerciements Ce document a bénéficié de la relecture et des suggestions des étudiants qui en ont été les cobayes des premières versions. Ce document est généré par lexcellente extension bookdown de Yihui Xie et il sest servi du template proposé par Julien Barnier pour introduire des exercices interactifs dans son cours de tidyverse. Licence Ce document est mis à disposition selon les termes de la Licence Creative Commons Attribution - Pas dUtilisation Commerciale - Partage dans les Mêmes Conditions 4.0 International. Licence Creative Commons Sous Linux, utilisez votre gestionnaire de packages habituel. "],["01-Jeu-de-donnees.html", "Chapitre 2 Récupération du jeu de données sur une API", " Chapitre 2 Récupération du jeu de données sur une API # On charge les librairies principales que l&#39;on va utiliser library(knitr) library(httr) library(jsonlite) library(tidyverse) library(gt) library(rstatix) library(janitor) On récupère le jeu de données sur lequel on va travailler au cours de cette séance sur le site de lopen data du Ministère de lenseignement supérieur et de la recherche : jai choisi ici de travailler sur les parcours et la réussite en licence des bacheliers nouvellement inscrits, la page présentant cette base est consultable ici. En allant dans longlet API, on peut récupérer ladresse à inscrire dans notre fonction GET. On récupère ensuite le contenu puis la base de données (cf. séance 1 de C. Grasland). get_url &lt;- GET(&quot;https://data.enseignementsup-recherche.gouv.fr/api/records/1.0/search/?dataset=fr-esr-parcours-et-reussite-des-bacheliers-en-licence&amp;q=&amp;rows=10000&amp;start=0&quot;) #liste content &lt;- fromJSON(rawToChar(get_url$content)) #liste ParcoursLic &lt;- content$records$fields La description sur le site nous donne le champ général et dautres informations sur les variables : le champ couvre lensemble des universités françaises, sauf luniversité de Nouvelle Calédonie ; les informations ne sont pas brutes dans la mesure où elles ont déjà été retravaillées ; nous navons pas, par conséquent, comme observations les individus inscrits et diplômés, mais des indicateurs déjà construits et donc plus ou moins agrégés. Plus précisément, on a en réalité deux types dinformations qui renvoient à deux champs différents : dabord sur le passage en deuxième année en un ou deux ans dont le champ des indicateurs est constitué des bacheliers 2014 inscrits en 2014-2015 en première année de licence (hors licence professionnelle) dans lenseignement supérieur public ; puis sur lobtention de la licence en trois ou quatre ans dont le champ des indicateurs est constitué des bacheliers 2012 inscrits en 2012-2013 en première année de licence dans lenseignement supérieur public. Dans les deux cas, les étudiants ayant pris une inscription parallèle en STS, DUT ou CPGE, sont exclus. Il faudra donc faire attention dans linterprétation des traitements statistiques que lon pourra faire de ces données. Lélément important est la base, cest-à-dire le dénominateur des indicateurs qui nous sont donnés, cest cette variable quil faudra identifier et qui nous permettra de connaître les effectifs globaux des bacheliers inscrits selon lannée et ensuite par catégories. "],["02-Manipulation-base.html", "Chapitre 3 Manipulation de la base 3.1 Format des données - WIDE ou LONG 3.2 Séparer les variables, séparer les données", " Chapitre 3 Manipulation de la base On va regarder un peu à quoi ressemble la table de données téléchargée, quelles sont les variables, etc. ParcoursLic %&gt;% head() %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #awrhiremcf .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #awrhiremcf .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #awrhiremcf .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #awrhiremcf .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #awrhiremcf .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #awrhiremcf .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #awrhiremcf .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #awrhiremcf .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #awrhiremcf .gt_column_spanner_outer:first-child { padding-left: 0; } #awrhiremcf .gt_column_spanner_outer:last-child { padding-right: 0; } #awrhiremcf .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #awrhiremcf .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #awrhiremcf .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #awrhiremcf .gt_from_md > :first-child { margin-top: 0; } #awrhiremcf .gt_from_md > :last-child { margin-bottom: 0; } #awrhiremcf .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #awrhiremcf .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #awrhiremcf .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #awrhiremcf .gt_row_group_first td { border-top-width: 2px; } #awrhiremcf .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #awrhiremcf .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #awrhiremcf .gt_first_summary_row.thick { border-top-width: 2px; } #awrhiremcf .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #awrhiremcf .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #awrhiremcf .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #awrhiremcf .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #awrhiremcf .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #awrhiremcf .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #awrhiremcf .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #awrhiremcf .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #awrhiremcf .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #awrhiremcf .gt_left { text-align: left; } #awrhiremcf .gt_center { text-align: center; } #awrhiremcf .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #awrhiremcf .gt_font_normal { font-weight: normal; } #awrhiremcf .gt_font_bold { font-weight: bold; } #awrhiremcf .gt_font_italic { font-style: italic; } #awrhiremcf .gt_super { font-size: 65%; } #awrhiremcf .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #awrhiremcf .gt_asterisk { font-size: 100%; vertical-align: 0; } #awrhiremcf .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #awrhiremcf .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #awrhiremcf .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } passage_en_l2_2_ans effectif_neobacheliers_passage sect_disciplinaire_lib sexe age_au_bac_lib passage_en_l2_1_2_ans serie_bac_lib age_au_bac gd_discipline cohorte_reussite gd_discipline_lib mention_bac_lib discipline reussite_3_ans reorientation_en_dut discipline_lib reussite_3_4_ans reorientation_en_dut_1_an effectif_neobacheliers_reussite redoublement_en_l1 passage_en_l2_1_an cohorte_passage reorientation_en_dut_2_ans sect_disciplinaire sexe_lib mention_bac serie_bac reussite_4_ans 0 1 Langues et littératures étrangères 1 En retard d'un an 0 BAC STMG R1 LLSH 2012 Lettres, langues et sciences humaines Inconnue 05 0 0 Langues 0 0 3 0 0 2014 0 23 Homme Q 4 0 0 10 Sociologie, démographie 1 En retard d'un an 0 BAC STMG R1 LLSH 2012 Lettres, langues et sciences humaines Passable deuxième groupe 06 0 1 Sciences humaines et sociales 1 1 16 4 0 2014 0 33 Homme P 4 1 1 3 Langues et littératures étrangères 2 En retard de plus d'un an 3 BAC technologique hors STMG R2 LLSH 2012 Lettres, langues et sciences humaines Inconnue 05 1 0 Langues 1 0 4 1 2 2014 0 23 Femme Q 5 0 NA NA Langues et littératures étrangères 1 Non pris en compte NA BAC professionnel R4 LLSH 2012 Lettres, langues et sciences humaines Très bien 05 1 NA Langues 1 NA 1 NA NA 2014 NA 23 Homme A 6 0 1 21 Sociologie, démographie 2 En retard de plus d'un an 2 BAC technologique hors STMG R2 LLSH 2012 Lettres, langues et sciences humaines Passable deuxième groupe 06 1 1 Sciences humaines et sociales 2 1 29 12 1 2014 0 33 Femme P 5 1 0 9 Sciences de l'éducation 1 A l'heure ou en avance 9 BAC ES R0 LLSH 2012 Lettres, langues et sciences humaines Assez bien 06 NA 0 Sciences humaines et sociales NA 0 NA 0 9 2014 0 34 Homme C 2 NA ParcoursLic %&gt;% glimpse() #Note pour étudiants : en langage R de base, fonction équivalente &#39;str()&#39; Rows: 5,508 Columns: 28 $ passage_en_l2_2_ans &lt;dbl&gt; 0, 0, 1, NA, 1, 0, 20, 1, 0, 0, 0, 1, ~ $ effectif_neobacheliers_passage &lt;dbl&gt; 1, 10, 3, NA, 21, 9, 144, 10, 3, 5, 1,~ $ sect_disciplinaire_lib &lt;chr&gt; &quot;Langues et littératures étrangères&quot;, ~ $ sexe &lt;int&gt; 1, 1, 2, 1, 2, 1, 2, 2, 1, 2, 1, 2, 2,~ $ age_au_bac_lib &lt;chr&gt; &quot;En retard d&#39;un an&quot;, &quot;En retard d&#39;un a~ $ passage_en_l2_1_2_ans &lt;dbl&gt; 0, 0, 3, NA, 2, 9, 86, 4, 1, 0, 1, 8, ~ $ serie_bac_lib &lt;chr&gt; &quot;BAC STMG&quot;, &quot;BAC STMG&quot;, &quot;BAC technolog~ $ age_au_bac &lt;chr&gt; &quot;R1&quot;, &quot;R1&quot;, &quot;R2&quot;, &quot;R4&quot;, &quot;R2&quot;, &quot;R0&quot;, &quot;R~ $ gd_discipline &lt;chr&gt; &quot;LLSH&quot;, &quot;LLSH&quot;, &quot;LLSH&quot;, &quot;LLSH&quot;, &quot;LLSH&quot;~ $ cohorte_reussite &lt;chr&gt; &quot;2012&quot;, &quot;2012&quot;, &quot;2012&quot;, &quot;2012&quot;, &quot;2012&quot;~ $ gd_discipline_lib &lt;chr&gt; &quot;Lettres, langues et sciences humaines~ $ mention_bac_lib &lt;chr&gt; &quot;Inconnue&quot;, &quot;Passable deuxième groupe&quot;~ $ discipline &lt;chr&gt; &quot;05&quot;, &quot;06&quot;, &quot;05&quot;, &quot;05&quot;, &quot;06&quot;, &quot;06&quot;, &quot;0~ $ reussite_3_ans &lt;dbl&gt; 0, 0, 1, 1, 1, NA, 48, 2, 0, 1, NA, 4,~ $ reorientation_en_dut &lt;dbl&gt; 0, 1, 0, NA, 1, 0, 3, 0, 0, 0, 0, 0, 0~ $ discipline_lib &lt;chr&gt; &quot;Langues&quot;, &quot;Sciences humaines et socia~ $ reussite_3_4_ans &lt;dbl&gt; 0, 1, 1, 1, 2, NA, 86, 2, 0, 1, NA, 9,~ $ reorientation_en_dut_1_an &lt;dbl&gt; 0, 1, 0, NA, 1, 0, 2, 0, 0, 0, 0, 0, 0~ $ effectif_neobacheliers_reussite &lt;dbl&gt; 3, 16, 4, 1, 29, NA, 206, 6, 2, 5, NA,~ $ redoublement_en_l1 &lt;dbl&gt; 0, 4, 1, NA, 12, 0, 39, 2, 0, 1, 0, 1,~ $ passage_en_l2_1_an &lt;dbl&gt; 0, 0, 2, NA, 1, 9, 66, 3, 1, 0, 1, 7, ~ $ cohorte_passage &lt;chr&gt; &quot;2014&quot;, &quot;2014&quot;, &quot;2014&quot;, &quot;2014&quot;, &quot;2014&quot;~ $ reorientation_en_dut_2_ans &lt;dbl&gt; 0, 0, 0, NA, 0, 0, 1, 0, 0, 0, 0, 0, 0~ $ sect_disciplinaire &lt;int&gt; 23, 33, 23, 23, 33, 34, 24, 24, 34, 34~ $ sexe_lib &lt;chr&gt; &quot;Homme&quot;, &quot;Homme&quot;, &quot;Femme&quot;, &quot;Homme&quot;, &quot;F~ $ mention_bac &lt;chr&gt; &quot;Q&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;A&quot;, &quot;P&quot;, &quot;C&quot;, &quot;D&quot;, &quot;Q&quot;~ $ serie_bac &lt;int&gt; 4, 4, 5, 6, 5, 2, 2, 2, 4, 5, 4, 1, 5,~ $ reussite_4_ans &lt;dbl&gt; 0, 1, 0, 0, 1, NA, 38, 0, 0, 0, NA, 5,~ On a donc 28 colonnes ou variables et 5 508 lignes ou observations. Les variables sont en format, soit dbl (double), soit int (interger) ou encore chr (character). On remarque que certaines variables donnent la même information mais sont codées en nombre, ou en libellé : cest le cas de la variable sexe (sexe et sexe_lib), mais aussi de la série au bac, des grandes disciplines de la licence, etc. On a également 2 variables dont la modalité semble toujours la même - cohorte_passage et cohorte_reussite, on vérifiera lorsquon travaillera spécifiquement sur les variables. Enfin, on voit également des NA, ce qui signifie que certaines variables ont des valeurs manquantes. 3.1 Format des données - WIDE ou LONG De manière plus générale, quel est le format de nos données ici ? Lobsevation de la table de données nous montre quon a une répétition de modalités pour toutes les variables catégorielles, on na donc pas une ligne par observation car en réalité on a des données micro-agrégées, on est donc plutôt dans un format long. La question du format de la base est importante, on distingue généralement le format wide du format long : le premier renvoie au cas où chaque ligne correspond a un et un seul individu et toutes les informations le concernant sont en colonnes (ce qui peut augmenter rapidement le nombre de colonnes, cest lexemple dune information que lon a sur plusieurs années, chaque colonne correspondra à linformation de lannée en question) ; le second, au contraire, multiplie les lignes pour un seul individu mais il y a alors moins de colonnes (si lon reprend lexemple précédent, il y aura une colonne indiquant lannée et une colonne contenant linformation). Le package tidyverse contient deux fonctions qui permettent de passer dun format à un autre : pivot_longer() et pivot_wider() présentés en détails ici. Un rapide exemple ci-dessous de la fonction pivot_wider(), mais nous aurons très probablement loccasion de les utiliser au cours de ce semestre. # On sélectionne seulement 2 variables catégorielles et une variable quanti # Il est nécessaire de préciser les arguments `values_fill=&#39; et &quot;values_fn&#39; pour # que R sache quoi faire des différentes valeurs répétées : les sommer ? en faire # la moyenne ? Etc. Ici, logiquement, on fait la somme. # Dernière chose : comme il y a des valeurs manquantes, il faut mettre un filtre # avant précisant sans valeurs manquantes ParcoursLic %&gt;% select(effectif_neobacheliers_passage, serie_bac_lib, age_au_bac_lib) %&gt;% filter(!is.na(effectif_neobacheliers_passage)) %&gt;% pivot_wider(names_from = serie_bac_lib, values_from = effectif_neobacheliers_passage, values_fill = 0, values_fn = list(effectif_neobacheliers_passage=sum)) # A tibble: 4 x 7 age_au_bac_lib `BAC STMG` `BAC technolog~` `BAC ES` `BAC L` `BAC S` &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 En retard d&#39;un an 5484 3534 8139 6242 6226 2 En retard de plus d&#39;un an 2043 1538 1553 1587 1500 3 A l&#39;heure ou en avance 6432 5565 36732 23260 35404 4 Non pris en compte 0 0 0 0 0 # ... with 1 more variable: `BAC professionnel` &lt;dbl&gt; 3.2 Séparer les variables, séparer les données On peut également créer de nouvelles colonnes à partir dune colonne en séparant les informations, ou le contraire rassembler 2 informations contenues dans 2 colonnes différentes dans une seule colonne. Ce sont respectivement les fonctions separate() et unite() du langage tidyverse que lon utilise alors. Un rapide exemple avec la fonction separate(), mais de même on aura sûrement loccasion de les utiliser de manière plus approfondie dans les prochaines séances. ParcoursLic %&gt;% separate(serie_bac_lib, into = c(&#39;Bac&#39;,&#39;Serie&#39;)) %&gt;% select(Bac, Serie) %&gt;% head(4) %&gt;% gt() Warning: Expected 2 pieces. Additional pieces discarded in 1055 rows [3, 5, 10, 13, 16, 18, 19, 24, 50, 52, 58, 65, 66, 79, 81, 87, 89, 99, 118, 124, ...]. html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #hbsjnfodig .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #hbsjnfodig .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #hbsjnfodig .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #hbsjnfodig .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #hbsjnfodig .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #hbsjnfodig .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #hbsjnfodig .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #hbsjnfodig .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #hbsjnfodig .gt_column_spanner_outer:first-child { padding-left: 0; } #hbsjnfodig .gt_column_spanner_outer:last-child { padding-right: 0; } #hbsjnfodig .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #hbsjnfodig .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #hbsjnfodig .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #hbsjnfodig .gt_from_md > :first-child { margin-top: 0; } #hbsjnfodig .gt_from_md > :last-child { margin-bottom: 0; } #hbsjnfodig .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #hbsjnfodig .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #hbsjnfodig .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #hbsjnfodig .gt_row_group_first td { border-top-width: 2px; } #hbsjnfodig .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #hbsjnfodig .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #hbsjnfodig .gt_first_summary_row.thick { border-top-width: 2px; } #hbsjnfodig .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #hbsjnfodig .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #hbsjnfodig .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #hbsjnfodig .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #hbsjnfodig .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #hbsjnfodig .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #hbsjnfodig .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #hbsjnfodig .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #hbsjnfodig .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #hbsjnfodig .gt_left { text-align: left; } #hbsjnfodig .gt_center { text-align: center; } #hbsjnfodig .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #hbsjnfodig .gt_font_normal { font-weight: normal; } #hbsjnfodig .gt_font_bold { font-weight: bold; } #hbsjnfodig .gt_font_italic { font-style: italic; } #hbsjnfodig .gt_super { font-size: 65%; } #hbsjnfodig .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #hbsjnfodig .gt_asterisk { font-size: 100%; vertical-align: 0; } #hbsjnfodig .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #hbsjnfodig .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #hbsjnfodig .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } Bac Serie BAC STMG BAC STMG BAC technologique BAC professionnel On ne lui a pas indiqué doption de séparation, et automatiquement le premier espace séparant le 1er du 2ème mot a été utilisé, mais du coup on voit que pour les expressions qui avaient plus de 2 mots on na pas les autres mots (cest le cas pour la modalité Bac technologique hors STMG qui est devenu BAC dun côté et technologique de lautre). Pour cela, il faut ajouter largument extra=\"merge\". ParcoursLic %&gt;% separate(serie_bac_lib, into = c(&#39;Bac&#39;,&#39;Serie&#39;), sep=&quot; &quot;, extra=&quot;merge&quot;) %&gt;% select(Bac, Serie) %&gt;% head(4) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #ivdseqfqwt .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #ivdseqfqwt .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ivdseqfqwt .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #ivdseqfqwt .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #ivdseqfqwt .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ivdseqfqwt .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ivdseqfqwt .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #ivdseqfqwt .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #ivdseqfqwt .gt_column_spanner_outer:first-child { padding-left: 0; } #ivdseqfqwt .gt_column_spanner_outer:last-child { padding-right: 0; } #ivdseqfqwt .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #ivdseqfqwt .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #ivdseqfqwt .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #ivdseqfqwt .gt_from_md > :first-child { margin-top: 0; } #ivdseqfqwt .gt_from_md > :last-child { margin-bottom: 0; } #ivdseqfqwt .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #ivdseqfqwt .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #ivdseqfqwt .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #ivdseqfqwt .gt_row_group_first td { border-top-width: 2px; } #ivdseqfqwt .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ivdseqfqwt .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #ivdseqfqwt .gt_first_summary_row.thick { border-top-width: 2px; } #ivdseqfqwt .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ivdseqfqwt .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ivdseqfqwt .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #ivdseqfqwt .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #ivdseqfqwt .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ivdseqfqwt .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ivdseqfqwt .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #ivdseqfqwt .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ivdseqfqwt .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ivdseqfqwt .gt_left { text-align: left; } #ivdseqfqwt .gt_center { text-align: center; } #ivdseqfqwt .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #ivdseqfqwt .gt_font_normal { font-weight: normal; } #ivdseqfqwt .gt_font_bold { font-weight: bold; } #ivdseqfqwt .gt_font_italic { font-style: italic; } #ivdseqfqwt .gt_super { font-size: 65%; } #ivdseqfqwt .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #ivdseqfqwt .gt_asterisk { font-size: 100%; vertical-align: 0; } #ivdseqfqwt .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #ivdseqfqwt .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #ivdseqfqwt .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } Bac Serie BAC STMG BAC STMG BAC technologique hors STMG BAC professionnel Enfin, comme on a dit que lon avait des informations sur deux champs différents, on peut très bien décider de créer deux nouvelles tables de données, en retenant seulement les informations correspondant au champ concerné. La première que lon peut intituler PassageL1L2 comprendrait toutes les lignes de la base initiale ParcoursLic mais sans les colonnes reussite_3_ans, reussite_4_ans, reussite_3_4_ans, effectif_neobacheliers_reussite et cohorte_reussite, alors que la seconde que lon peut intituler ReussiteLic comprendrait ces variables ainsi que toutes les lignes. Comme vous le savez très probablement, dans le langage tidyverse, pour faire des sélections sur les lignes ou observations dans une table de données, on utilise la fonction filter() ; pour faire des sélections sur les colonnes ou variables, on utilise la fonction select() ; pour supprimer des variables, on utilise select() également (dans le langage R de base, on peut utiliser la fonction subset()). Créer donc ces deux nouvelles bases de données. html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #uygjiqgdtn .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #uygjiqgdtn .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #uygjiqgdtn .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #uygjiqgdtn .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #uygjiqgdtn .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uygjiqgdtn .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #uygjiqgdtn .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #uygjiqgdtn .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #uygjiqgdtn .gt_column_spanner_outer:first-child { padding-left: 0; } #uygjiqgdtn .gt_column_spanner_outer:last-child { padding-right: 0; } #uygjiqgdtn .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #uygjiqgdtn .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #uygjiqgdtn .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #uygjiqgdtn .gt_from_md > :first-child { margin-top: 0; } #uygjiqgdtn .gt_from_md > :last-child { margin-bottom: 0; } #uygjiqgdtn .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #uygjiqgdtn .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #uygjiqgdtn .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #uygjiqgdtn .gt_row_group_first td { border-top-width: 2px; } #uygjiqgdtn .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #uygjiqgdtn .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #uygjiqgdtn .gt_first_summary_row.thick { border-top-width: 2px; } #uygjiqgdtn .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uygjiqgdtn .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #uygjiqgdtn .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #uygjiqgdtn .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #uygjiqgdtn .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uygjiqgdtn .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #uygjiqgdtn .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #uygjiqgdtn .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #uygjiqgdtn .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #uygjiqgdtn .gt_left { text-align: left; } #uygjiqgdtn .gt_center { text-align: center; } #uygjiqgdtn .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #uygjiqgdtn .gt_font_normal { font-weight: normal; } #uygjiqgdtn .gt_font_bold { font-weight: bold; } #uygjiqgdtn .gt_font_italic { font-style: italic; } #uygjiqgdtn .gt_super { font-size: 65%; } #uygjiqgdtn .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #uygjiqgdtn .gt_asterisk { font-size: 100%; vertical-align: 0; } #uygjiqgdtn .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #uygjiqgdtn .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #uygjiqgdtn .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } passage_en_l2_2_ans effectif_neobacheliers_passage sect_disciplinaire_lib sexe age_au_bac_lib passage_en_l2_1_2_ans serie_bac_lib age_au_bac gd_discipline gd_discipline_lib mention_bac_lib discipline reorientation_en_dut discipline_lib reorientation_en_dut_1_an redoublement_en_l1 passage_en_l2_1_an cohorte_passage reorientation_en_dut_2_ans sect_disciplinaire sexe_lib mention_bac serie_bac 0 1 Langues et littératures étrangères 1 En retard d'un an 0 BAC STMG R1 LLSH Lettres, langues et sciences humaines Inconnue 05 0 Langues 0 0 0 2014 0 23 Homme Q 4 0 10 Sociologie, démographie 1 En retard d'un an 0 BAC STMG R1 LLSH Lettres, langues et sciences humaines Passable deuxième groupe 06 1 Sciences humaines et sociales 1 4 0 2014 0 33 Homme P 4 1 3 Langues et littératures étrangères 2 En retard de plus d'un an 3 BAC technologique hors STMG R2 LLSH Lettres, langues et sciences humaines Inconnue 05 0 Langues 0 1 2 2014 0 23 Femme Q 5 NA NA Langues et littératures étrangères 1 Non pris en compte NA BAC professionnel R4 LLSH Lettres, langues et sciences humaines Très bien 05 NA Langues NA NA NA 2014 NA 23 Homme A 6 1 21 Sociologie, démographie 2 En retard de plus d'un an 2 BAC technologique hors STMG R2 LLSH Lettres, langues et sciences humaines Passable deuxième groupe 06 1 Sciences humaines et sociales 1 12 1 2014 0 33 Femme P 5 html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #cbaazgizcq .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #cbaazgizcq .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #cbaazgizcq .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #cbaazgizcq .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #cbaazgizcq .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cbaazgizcq .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #cbaazgizcq .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #cbaazgizcq .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #cbaazgizcq .gt_column_spanner_outer:first-child { padding-left: 0; } #cbaazgizcq .gt_column_spanner_outer:last-child { padding-right: 0; } #cbaazgizcq .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #cbaazgizcq .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #cbaazgizcq .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #cbaazgizcq .gt_from_md > :first-child { margin-top: 0; } #cbaazgizcq .gt_from_md > :last-child { margin-bottom: 0; } #cbaazgizcq .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #cbaazgizcq .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #cbaazgizcq .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #cbaazgizcq .gt_row_group_first td { border-top-width: 2px; } #cbaazgizcq .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #cbaazgizcq .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #cbaazgizcq .gt_first_summary_row.thick { border-top-width: 2px; } #cbaazgizcq .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cbaazgizcq .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #cbaazgizcq .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #cbaazgizcq .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #cbaazgizcq .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cbaazgizcq .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #cbaazgizcq .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #cbaazgizcq .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #cbaazgizcq .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #cbaazgizcq .gt_left { text-align: left; } #cbaazgizcq .gt_center { text-align: center; } #cbaazgizcq .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #cbaazgizcq .gt_font_normal { font-weight: normal; } #cbaazgizcq .gt_font_bold { font-weight: bold; } #cbaazgizcq .gt_font_italic { font-style: italic; } #cbaazgizcq .gt_super { font-size: 65%; } #cbaazgizcq .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #cbaazgizcq .gt_asterisk { font-size: 100%; vertical-align: 0; } #cbaazgizcq .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #cbaazgizcq .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #cbaazgizcq .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } reussite_3_ans reussite_4_ans reussite_3_4_ans effectif_neobacheliers_reussite cohorte_reussite sect_disciplinaire_lib sexe age_au_bac_lib serie_bac_lib age_au_bac gd_discipline gd_discipline_lib mention_bac_lib discipline discipline_lib sect_disciplinaire sexe_lib mention_bac serie_bac 0 0 0 3 2012 Langues et littératures étrangères 1 En retard d'un an BAC STMG R1 LLSH Lettres, langues et sciences humaines Inconnue 05 Langues 23 Homme Q 4 0 1 1 16 2012 Sociologie, démographie 1 En retard d'un an BAC STMG R1 LLSH Lettres, langues et sciences humaines Passable deuxième groupe 06 Sciences humaines et sociales 33 Homme P 4 1 0 1 4 2012 Langues et littératures étrangères 2 En retard de plus d'un an BAC technologique hors STMG R2 LLSH Lettres, langues et sciences humaines Inconnue 05 Langues 23 Femme Q 5 1 0 1 1 2012 Langues et littératures étrangères 1 Non pris en compte BAC professionnel R4 LLSH Lettres, langues et sciences humaines Très bien 05 Langues 23 Homme A 6 1 1 2 29 2012 Sociologie, démographie 2 En retard de plus d'un an BAC technologique hors STMG R2 LLSH Lettres, langues et sciences humaines Passable deuxième groupe 06 Sciences humaines et sociales 33 Femme P 5 PassageL1L2 &lt;- ParcoursLic %&gt;% select(-c(&quot;reussite_3_ans&quot;, &quot;reussite_4_ans&quot;, &quot;reussite_3_4_ans&quot;, &quot;effectif_neobacheliers_reussite&quot;, &quot;cohorte_reussite&quot;)) ReussiteLic &lt;- ParcoursLic %&gt;% select(&quot;reussite_3_ans&quot;, &quot;reussite_4_ans&quot;, &quot;reussite_3_4_ans&quot;, &quot;effectif_neobacheliers_reussite&quot;, &quot;cohorte_reussite&quot;, &quot;sect_disciplinaire_lib&quot;,&quot;sexe&quot;, &quot;age_au_bac_lib&quot;, &quot;serie_bac_lib&quot;, &quot;age_au_bac&quot;, &quot;gd_discipline&quot;, &quot;gd_discipline_lib&quot;, &quot;mention_bac_lib&quot;, &quot;discipline&quot;, &quot;discipline_lib&quot;, &quot;sect_disciplinaire&quot;, &quot;sexe_lib&quot;, &quot;mention_bac&quot;, &quot;serie_bac&quot;) Pour la première table, la variable clé donnant les effectifs est effectif_neobacheliers_passage, alors que pour la seconde table, cest effectif_neobacheliers_reussite. Par exemple, pour avoir les effectifs globaux des bacheliers 2014 inscrits en 2014-2015 (champ base PassageL1L2) et des bacheliers 2012 inscrits en 2012-2013 (champ base ReussiteLic), on peut écrire ce code ci-dessous - attention il y a des valeurs manquantes, il faut donc bien ajouter loption na.rm=TRUE à la fonction summarise() ! On verra plus loin quon peut également utiliser la fonction count(). PassageL1L2 %&gt;% summarise(&#39;Nombre total de bacheliers inscrits en 2014-2015 en licence&#39; = sum(effectif_neobacheliers_passage, na.rm=TRUE)) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #vconmzslyc .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #vconmzslyc .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #vconmzslyc .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #vconmzslyc .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #vconmzslyc .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vconmzslyc .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #vconmzslyc .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #vconmzslyc .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #vconmzslyc .gt_column_spanner_outer:first-child { padding-left: 0; } #vconmzslyc .gt_column_spanner_outer:last-child { padding-right: 0; } #vconmzslyc .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #vconmzslyc .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #vconmzslyc .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #vconmzslyc .gt_from_md > :first-child { margin-top: 0; } #vconmzslyc .gt_from_md > :last-child { margin-bottom: 0; } #vconmzslyc .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #vconmzslyc .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #vconmzslyc .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #vconmzslyc .gt_row_group_first td { border-top-width: 2px; } #vconmzslyc .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #vconmzslyc .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #vconmzslyc .gt_first_summary_row.thick { border-top-width: 2px; } #vconmzslyc .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vconmzslyc .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #vconmzslyc .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #vconmzslyc .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #vconmzslyc .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vconmzslyc .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #vconmzslyc .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #vconmzslyc .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #vconmzslyc .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #vconmzslyc .gt_left { text-align: left; } #vconmzslyc .gt_center { text-align: center; } #vconmzslyc .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #vconmzslyc .gt_font_normal { font-weight: normal; } #vconmzslyc .gt_font_bold { font-weight: bold; } #vconmzslyc .gt_font_italic { font-style: italic; } #vconmzslyc .gt_super { font-size: 65%; } #vconmzslyc .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #vconmzslyc .gt_asterisk { font-size: 100%; vertical-align: 0; } #vconmzslyc .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #vconmzslyc .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #vconmzslyc .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } Nombre total de bacheliers inscrits en 2014-2015 en licence 159766 ReussiteLic %&gt;% summarise(&#39;Nombre total de bacheliers inscrits en 2012-2013 en licence&#39; = sum(effectif_neobacheliers_reussite, na.rm=TRUE)) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #wyacocnhwe .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #wyacocnhwe .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #wyacocnhwe .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #wyacocnhwe .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #wyacocnhwe .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #wyacocnhwe .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #wyacocnhwe .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #wyacocnhwe .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #wyacocnhwe .gt_column_spanner_outer:first-child { padding-left: 0; } #wyacocnhwe .gt_column_spanner_outer:last-child { padding-right: 0; } #wyacocnhwe .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #wyacocnhwe .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #wyacocnhwe .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #wyacocnhwe .gt_from_md > :first-child { margin-top: 0; } #wyacocnhwe .gt_from_md > :last-child { margin-bottom: 0; } #wyacocnhwe .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #wyacocnhwe .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #wyacocnhwe .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #wyacocnhwe .gt_row_group_first td { border-top-width: 2px; } #wyacocnhwe .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #wyacocnhwe .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #wyacocnhwe .gt_first_summary_row.thick { border-top-width: 2px; } #wyacocnhwe .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #wyacocnhwe .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #wyacocnhwe .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #wyacocnhwe .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #wyacocnhwe .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #wyacocnhwe .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #wyacocnhwe .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #wyacocnhwe .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #wyacocnhwe .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #wyacocnhwe .gt_left { text-align: left; } #wyacocnhwe .gt_center { text-align: center; } #wyacocnhwe .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #wyacocnhwe .gt_font_normal { font-weight: normal; } #wyacocnhwe .gt_font_bold { font-weight: bold; } #wyacocnhwe .gt_font_italic { font-style: italic; } #wyacocnhwe .gt_super { font-size: 65%; } #wyacocnhwe .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #wyacocnhwe .gt_asterisk { font-size: 100%; vertical-align: 0; } #wyacocnhwe .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #wyacocnhwe .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #wyacocnhwe .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } Nombre total de bacheliers inscrits en 2012-2013 en licence 147841 "],["03-Manipulation-variables.html", "Chapitre 4 Manipulation des variables 4.1 Manipulation des variables qualitatives 4.2 Manipulation des variables quantitatives", " Chapitre 4 Manipulation des variables On va transformer toutes nos variables caractères en variables factor pour que R reconnaisse les différents niveaux, cest-à-dire modalités, des variables par la suite. Une façon simple de le faire est dutiliser la fonction mutate_if. PassageL1L2 &lt;- PassageL1L2 %&gt;% mutate_if(is.character, as.factor) ReussiteLic &lt;- ReussiteLic %&gt;% mutate_if(is.character, as.factor) On peut ainsi vérifier que les variables cohorte_passage et cohorte_reussite ont toujours la même modalité : nlevels(PassageL1L2$cohorte_passage) [1] 1 levels(PassageL1L2$cohorte_passage) [1] &quot;2014&quot; nlevels(ReussiteLic$cohorte_reussite) [1] 1 levels(ReussiteLic$cohorte_reussite) [1] &quot;2012&quot; Pour la suite, on travaillera essentiellement sur la base PassageL1L2, mais vous pouvez réaliser le même type danalyse pour la base ReussiteLic. On peut également vérifier les variables numériques qui restent, en les sélectionnant avec select_if() : PassageL1L2 %&gt;% select_if(is.numeric) %&gt;% head(2) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #zilmxdajat .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #zilmxdajat .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #zilmxdajat .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #zilmxdajat .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #zilmxdajat .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #zilmxdajat .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #zilmxdajat .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #zilmxdajat .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #zilmxdajat .gt_column_spanner_outer:first-child { padding-left: 0; } #zilmxdajat .gt_column_spanner_outer:last-child { padding-right: 0; } #zilmxdajat .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #zilmxdajat .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #zilmxdajat .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #zilmxdajat .gt_from_md > :first-child { margin-top: 0; } #zilmxdajat .gt_from_md > :last-child { margin-bottom: 0; } #zilmxdajat .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #zilmxdajat .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #zilmxdajat .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #zilmxdajat .gt_row_group_first td { border-top-width: 2px; } #zilmxdajat .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #zilmxdajat .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #zilmxdajat .gt_first_summary_row.thick { border-top-width: 2px; } #zilmxdajat .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #zilmxdajat .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #zilmxdajat .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #zilmxdajat .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #zilmxdajat .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #zilmxdajat .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #zilmxdajat .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #zilmxdajat .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #zilmxdajat .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #zilmxdajat .gt_left { text-align: left; } #zilmxdajat .gt_center { text-align: center; } #zilmxdajat .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #zilmxdajat .gt_font_normal { font-weight: normal; } #zilmxdajat .gt_font_bold { font-weight: bold; } #zilmxdajat .gt_font_italic { font-style: italic; } #zilmxdajat .gt_super { font-size: 65%; } #zilmxdajat .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #zilmxdajat .gt_asterisk { font-size: 100%; vertical-align: 0; } #zilmxdajat .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #zilmxdajat .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #zilmxdajat .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } passage_en_l2_2_ans effectif_neobacheliers_passage sexe passage_en_l2_1_2_ans reorientation_en_dut reorientation_en_dut_1_an redoublement_en_l1 passage_en_l2_1_an reorientation_en_dut_2_ans sect_disciplinaire serie_bac 0 1 1 0 0 0 0 0 0 23 4 0 10 1 0 1 1 4 0 0 33 4 #ReussiteLic %&gt;% select_if(is.numeric) %&gt;% head(2) Ahhh on voit que 3 variables sont en réalité des variables catégorielles mais avec des modalités numériques : sexe, sect_disciplinaire et serie_bac. On va donc les transformer en variable factor. PassageL1L2 &lt;- PassageL1L2 %&gt;% mutate(sexe=as.factor(sexe), sect_disciplinaire=as.factor(sect_disciplinaire), serie_bac=as.factor(serie_bac)) Ensuite, il est souvent dusage dutiliser la fonction summary() pour donner une idée sur lensemble des variables, soit de la distribution pour les variables quanti, soit de la répartition des différentes modalités pour les variables quali ; la fonction permet également de nous donner linformation sur lexistence et le nombre de valeurs manquantes pour chaque variable. summary(PassageL1L2) passage_en_l2_2_ans effectif_neobacheliers_passage Min. : 0.000 Min. : 1.00 1st Qu.: 0.000 1st Qu.: 2.00 Median : 0.000 Median : 6.00 Mean : 4.316 Mean : 35.12 3rd Qu.: 2.000 3rd Qu.: 23.00 Max. :571.000 Max. :2454.00 NA&#39;s :959 NA&#39;s :959 sect_disciplinaire_lib sexe Sciences juridiques : 187 1:2756 Langues étrangères appliquées : 177 2:2752 Langues et littératures étrangères: 176 Psychologie : 176 STAPS : 173 Arts : 172 (Other) :4447 age_au_bac_lib passage_en_l2_1_2_ans A l&#39;heure ou en avance :2021 Min. : 0.00 En retard d&#39;un an :1746 1st Qu.: 1.00 En retard de plus d&#39;un an:1316 Median : 2.00 Non pris en compte : 425 Mean : 18.63 3rd Qu.: 8.00 Max. :1950.00 NA&#39;s :959 serie_bac_lib age_au_bac gd_discipline BAC ES :1066 R0:2021 DSA :1097 BAC L : 896 R1:1746 LLSH :2562 BAC professionnel : 425 R2:1316 SANTE: 15 BAC S :1218 R4: 425 SI :1661 BAC STMG : 848 STAPS: 173 BAC technologique hors STMG:1055 gd_discipline_lib mention_bac_lib Droit, gestion, économie, AES :1097 Assez bien :1080 Lettres, langues et sciences humaines:2562 Bien : 796 Santé : 15 Inconnue : 848 Sciences et sciences de l&#39;ingénieur :1661 Passable deuxième groupe:1112 STAPS : 173 Passable premier groupe :1220 Très bien : 452 discipline reorientation_en_dut 06 :1395 Min. : 0.000 15 :1168 1st Qu.: 0.000 04 : 593 Median : 0.000 01 : 470 Mean : 0.805 02 : 462 3rd Qu.: 0.000 05 : 459 Max. :79.000 (Other): 961 NA&#39;s :959 discipline_lib reorientation_en_dut_1_an Sciences humaines et sociales :1395 Min. : 0.0000 Sciences fondamentales et applications:1168 1st Qu.: 0.0000 Lettres, sciences du langage, arts : 593 Median : 0.0000 Droit, sciences politiques : 470 Mean : 0.6186 Sciences économiques, gestion : 462 3rd Qu.: 0.0000 Langues : 459 Max. :63.0000 (Other) : 961 NA&#39;s :959 redoublement_en_l1 passage_en_l2_1_an cohorte_passage Min. : 0.0 Min. : 0.00 2014:5508 1st Qu.: 0.0 1st Qu.: 0.00 Median : 1.0 Median : 1.00 Mean : 10.2 Mean : 14.32 3rd Qu.: 6.0 3rd Qu.: 6.00 Max. :1019.0 Max. :1494.00 NA&#39;s :959 NA&#39;s :959 reorientation_en_dut_2_ans sect_disciplinaire sexe_lib mention_bac Min. : 0.0000 36 : 187 Femme:2752 A: 452 1st Qu.: 0.0000 24 : 177 Homme:2756 B: 796 Median : 0.0000 23 : 176 C:1080 Mean : 0.1864 32 : 176 D:1220 3rd Qu.: 0.0000 10 : 173 P:1112 Max. :21.0000 21 : 172 Q: 848 NA&#39;s :959 (Other):4447 serie_bac 1: 896 2:1066 3:1218 4: 848 5:1055 6: 425 Mais, en réalité ici, ces statistiques nont pas grand sens en soi, en raison encore une fois du fait que lon a des variables micro-agrégées ; et pour avoir les vraies statistiques il faut sommer notre variable clé deffectif à chaque fois, cest-à-dire pour chaque variable catégorielle. Par exemple : # Si on veut la répartition des inscrits 2014-2015 en licence selon # la série du Bac : PassageL1L2 %&gt;% group_by(serie_bac_lib) %&gt;% summarise(eff_2014=sum(effectif_neobacheliers_passage, na.rm=T)) %&gt;% adorn_totals(&quot;row&quot;) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #xfosjfvskt .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #xfosjfvskt .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xfosjfvskt .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #xfosjfvskt .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #xfosjfvskt .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xfosjfvskt .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xfosjfvskt .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #xfosjfvskt .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #xfosjfvskt .gt_column_spanner_outer:first-child { padding-left: 0; } #xfosjfvskt .gt_column_spanner_outer:last-child { padding-right: 0; } #xfosjfvskt .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #xfosjfvskt .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #xfosjfvskt .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #xfosjfvskt .gt_from_md > :first-child { margin-top: 0; } #xfosjfvskt .gt_from_md > :last-child { margin-bottom: 0; } #xfosjfvskt .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #xfosjfvskt .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #xfosjfvskt .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #xfosjfvskt .gt_row_group_first td { border-top-width: 2px; } #xfosjfvskt .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xfosjfvskt .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #xfosjfvskt .gt_first_summary_row.thick { border-top-width: 2px; } #xfosjfvskt .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xfosjfvskt .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xfosjfvskt .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #xfosjfvskt .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #xfosjfvskt .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xfosjfvskt .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xfosjfvskt .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #xfosjfvskt .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xfosjfvskt .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #xfosjfvskt .gt_left { text-align: left; } #xfosjfvskt .gt_center { text-align: center; } #xfosjfvskt .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #xfosjfvskt .gt_font_normal { font-weight: normal; } #xfosjfvskt .gt_font_bold { font-weight: bold; } #xfosjfvskt .gt_font_italic { font-style: italic; } #xfosjfvskt .gt_super { font-size: 65%; } #xfosjfvskt .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #xfosjfvskt .gt_asterisk { font-size: 100%; vertical-align: 0; } #xfosjfvskt .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #xfosjfvskt .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #xfosjfvskt .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } serie_bac_lib eff_2014 BAC ES 46424 BAC L 31089 BAC professionnel 14527 BAC S 43130 BAC STMG 13959 BAC technologique hors STMG 10637 Total 159766 # ou avec les fonctions count() en utilisant l&#39;argument wt= # PassageL1L2 %&gt;% count(serie_bac_lib, wt = effectif_neobacheliers_passage) # %&gt;% adorn_totals(&quot;row&quot;) %&gt;% gt() Si on veut trier le résultat pour voir la catégorie la plus importante en première, on peut utiliser la fonction arrange(), qui peut être utilisée plus généralement sur des dataframe. # Si on veut la répartition des inscrits 2014-2015 en licence selon la série du # Bac, triée par ordre décroissant : PassageL1L2 %&gt;% group_by(serie_bac_lib) %&gt;% summarise(eff_2014=sum(effectif_neobacheliers_passage, na.rm=T)) %&gt;% arrange(desc(eff_2014)) %&gt;% adorn_totals(&quot;row&quot;) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #mutwscnrvs .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #mutwscnrvs .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #mutwscnrvs .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #mutwscnrvs .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #mutwscnrvs .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #mutwscnrvs .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #mutwscnrvs .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #mutwscnrvs .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #mutwscnrvs .gt_column_spanner_outer:first-child { padding-left: 0; } #mutwscnrvs .gt_column_spanner_outer:last-child { padding-right: 0; } #mutwscnrvs .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #mutwscnrvs .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #mutwscnrvs .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #mutwscnrvs .gt_from_md > :first-child { margin-top: 0; } #mutwscnrvs .gt_from_md > :last-child { margin-bottom: 0; } #mutwscnrvs .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #mutwscnrvs .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #mutwscnrvs .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #mutwscnrvs .gt_row_group_first td { border-top-width: 2px; } #mutwscnrvs .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #mutwscnrvs .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #mutwscnrvs .gt_first_summary_row.thick { border-top-width: 2px; } #mutwscnrvs .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #mutwscnrvs .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #mutwscnrvs .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #mutwscnrvs .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #mutwscnrvs .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #mutwscnrvs .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #mutwscnrvs .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #mutwscnrvs .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #mutwscnrvs .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #mutwscnrvs .gt_left { text-align: left; } #mutwscnrvs .gt_center { text-align: center; } #mutwscnrvs .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #mutwscnrvs .gt_font_normal { font-weight: normal; } #mutwscnrvs .gt_font_bold { font-weight: bold; } #mutwscnrvs .gt_font_italic { font-style: italic; } #mutwscnrvs .gt_super { font-size: 65%; } #mutwscnrvs .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #mutwscnrvs .gt_asterisk { font-size: 100%; vertical-align: 0; } #mutwscnrvs .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #mutwscnrvs .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #mutwscnrvs .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } serie_bac_lib eff_2014 BAC ES 46424 BAC S 43130 BAC L 31089 BAC professionnel 14527 BAC STMG 13959 BAC technologique hors STMG 10637 Total 159766 # Si on veut les effectifs pour chaque situation à la fin de la L1 : PassageL1L2 %&gt;% summarise(passage_l2=sum(passage_en_l2_1_an, na.rm=T), redoublement_l1=sum(redoublement_en_l1, na.rm=T), reorientation_dut_l1=sum(reorientation_en_dut_1_an, na.rm=T)) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #ohnutgaofz .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #ohnutgaofz .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ohnutgaofz .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #ohnutgaofz .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #ohnutgaofz .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ohnutgaofz .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ohnutgaofz .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #ohnutgaofz .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #ohnutgaofz .gt_column_spanner_outer:first-child { padding-left: 0; } #ohnutgaofz .gt_column_spanner_outer:last-child { padding-right: 0; } #ohnutgaofz .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #ohnutgaofz .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #ohnutgaofz .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #ohnutgaofz .gt_from_md > :first-child { margin-top: 0; } #ohnutgaofz .gt_from_md > :last-child { margin-bottom: 0; } #ohnutgaofz .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #ohnutgaofz .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #ohnutgaofz .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #ohnutgaofz .gt_row_group_first td { border-top-width: 2px; } #ohnutgaofz .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ohnutgaofz .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #ohnutgaofz .gt_first_summary_row.thick { border-top-width: 2px; } #ohnutgaofz .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ohnutgaofz .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ohnutgaofz .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #ohnutgaofz .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #ohnutgaofz .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ohnutgaofz .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ohnutgaofz .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #ohnutgaofz .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ohnutgaofz .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ohnutgaofz .gt_left { text-align: left; } #ohnutgaofz .gt_center { text-align: center; } #ohnutgaofz .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #ohnutgaofz .gt_font_normal { font-weight: normal; } #ohnutgaofz .gt_font_bold { font-weight: bold; } #ohnutgaofz .gt_font_italic { font-style: italic; } #ohnutgaofz .gt_super { font-size: 65%; } #ohnutgaofz .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #ohnutgaofz .gt_asterisk { font-size: 100%; vertical-align: 0; } #ohnutgaofz .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #ohnutgaofz .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #ohnutgaofz .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } passage_l2 redoublement_l1 reorientation_dut_l1 65127 46392 2814 4.1 Manipulation des variables qualitatives On peut dabord travailler sur les variables qualitatives. On regarde les différents niveaux pour chacune dentre elles. On peut avoir recours pour cela à la fonction sapply() qui permet dappliquer la fonction indiquée entre parenthèses (ici levels()) à tous les éléments de notre table. PassageL1L2 %&gt;% select_if(is.factor) %&gt;% sapply(levels) $sect_disciplinaire_lib [1] &quot;Administration économique et sociale&quot; [2] &quot;Aménagement&quot; [3] &quot;Archéologie, ethnologie, préhistoire&quot; [4] &quot;Arts&quot; [5] &quot;Chimie&quot; [6] &quot;Cultures et langues régionales&quot; [7] &quot;Électronique, génie électrique&quot; [8] &quot;Formation générale aux métiers de l&#39;ingénieur&quot; [9] &quot;Génie civil&quot; [10] &quot;Génie des procédés&quot; [11] &quot;Géographie&quot; [12] &quot;Histoire&quot; [13] &quot;Informatique&quot; [14] &quot;Langues et littératures anciennes&quot; [15] &quot;Langues et littératures étrangères&quot; [16] &quot;Langues et littératures françaises&quot; [17] &quot;Langues étrangères appliquées&quot; [18] &quot;Mathématique et informatique&quot; [19] &quot;Mathématiques&quot; [20] &quot;Mathématiques appliquées et sciences sociales&quot; [21] &quot;Mécanique, génie mécanique&quot; [22] &quot;Médecine&quot; [23] &quot;Philosophie, épistémologie&quot; [24] &quot;Physique&quot; [25] &quot;Physique et chimie&quot; [26] &quot;Pluridisciplinaire droit, sciences politiques&quot; [27] &quot;Pluridisciplinaire langues&quot; [28] &quot;Pluridisciplinaire lettres, langues, sciences humaines&quot; [29] &quot;Pluridisciplinaire lettres, sciences du langage, arts&quot; [30] &quot;Pluridisciplinaire sciences&quot; [31] &quot;Pluridisciplinaire sciences de la vie, de la santé, de la terre et de l&#39;univers&quot; [32] &quot;Pluridisciplinaire sciences économiques et gestion&quot; [33] &quot;Pluridisciplinaire sciences fondamentales et applications&quot; [34] &quot;Pluridisciplinaire sciences humaines et sociales&quot; [35] &quot;Psychologie&quot; [36] &quot;Sciences de gestion&quot; [37] &quot;Sciences de l&#39;éducation&quot; [38] &quot;Sciences de l&#39;information et la communication&quot; [39] &quot;Sciences de l&#39;univers&quot; [40] &quot;Sciences de la vie&quot; [41] &quot;Sciences du langage, linguistique&quot; [42] &quot;Sciences économiques&quot; [43] &quot;Sciences juridiques&quot; [44] &quot;Sciences politiques&quot; [45] &quot;Sciences religieuses&quot; [46] &quot;Sociologie, démographie&quot; [47] &quot;STAPS&quot; [48] &quot;Technologie et sciences industrielles&quot; $sexe [1] &quot;1&quot; &quot;2&quot; $age_au_bac_lib [1] &quot;A l&#39;heure ou en avance&quot; &quot;En retard d&#39;un an&quot; [3] &quot;En retard de plus d&#39;un an&quot; &quot;Non pris en compte&quot; $serie_bac_lib [1] &quot;BAC ES&quot; &quot;BAC L&quot; [3] &quot;BAC professionnel&quot; &quot;BAC S&quot; [5] &quot;BAC STMG&quot; &quot;BAC technologique hors STMG&quot; $age_au_bac [1] &quot;R0&quot; &quot;R1&quot; &quot;R2&quot; &quot;R4&quot; $gd_discipline [1] &quot;DSA&quot; &quot;LLSH&quot; &quot;SANTE&quot; &quot;SI&quot; &quot;STAPS&quot; $gd_discipline_lib [1] &quot;Droit, gestion, économie, AES&quot; [2] &quot;Lettres, langues et sciences humaines&quot; [3] &quot;Santé&quot; [4] &quot;Sciences et sciences de l&#39;ingénieur&quot; [5] &quot;STAPS&quot; $mention_bac_lib [1] &quot;Assez bien&quot; &quot;Bien&quot; [3] &quot;Inconnue&quot; &quot;Passable deuxième groupe&quot; [5] &quot;Passable premier groupe&quot; &quot;Très bien&quot; $discipline [1] &quot;01&quot; &quot;02&quot; &quot;03&quot; &quot;04&quot; &quot;05&quot; &quot;06&quot; &quot;09&quot; &quot;10&quot; &quot;11&quot; &quot;15&quot; &quot;32&quot; &quot;33&quot; $discipline_lib [1] &quot;Administration économique et sociale&quot; [2] &quot;Droit, sciences politiques&quot; [3] &quot;Langues&quot; [4] &quot;Lettres, sciences du langage, arts&quot; [5] &quot;Médecine&quot; [6] &quot;Pluridisciplinaire lettres, langues, sciences humaines&quot; [7] &quot;Pluridisciplinaire sciences&quot; [8] &quot;Sciences de la vie, de la terre et de l&#39;univers&quot; [9] &quot;Sciences économiques, gestion&quot; [10] &quot;Sciences fondamentales et applications&quot; [11] &quot;Sciences humaines et sociales&quot; [12] &quot;STAPS&quot; $cohorte_passage [1] &quot;2014&quot; $sect_disciplinaire [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot; &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot; &quot;15&quot; &quot;16&quot; &quot;17&quot; [16] &quot;18&quot; &quot;19&quot; &quot;21&quot; &quot;23&quot; &quot;24&quot; &quot;25&quot; &quot;26&quot; &quot;27&quot; &quot;28&quot; &quot;29&quot; &quot;30&quot; &quot;31&quot; &quot;32&quot; &quot;33&quot; &quot;34&quot; [31] &quot;35&quot; &quot;36&quot; &quot;37&quot; &quot;38&quot; &quot;39&quot; &quot;40&quot; &quot;41&quot; &quot;42&quot; &quot;43&quot; &quot;61&quot; &quot;62&quot; &quot;64&quot; &quot;65&quot; &quot;66&quot; &quot;67&quot; [46] &quot;68&quot; &quot;69&quot; &quot;70&quot; $sexe_lib [1] &quot;Femme&quot; &quot;Homme&quot; $mention_bac [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;P&quot; &quot;Q&quot; $serie_bac [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; On observe que la première variable affichée sect_disciplinaire_lib a de nombreuses modalités, 48 précisément, on ne sen servira que pour une analyse détaillée ; la variable age_au_bac_lib compte 4 modalités que lon pourrait réduire à 3 en regroupant les deux modalités en retard ; de même pour la variable de serie_bac_lib, on pourrait les regrouper ou créer une autre variable nayant que 3 modalités et qui soit alors plus générale ; idem pour la mention_bac_lib en regroupant les passables. On va faire tout cela en utilisant les fonctions mutate(), case_when() et as.factor(), mais aussi en dernier exemple les fonctions fct_relevel() et fct_collapse() du package forcats : PassageL1L2 &lt;- PassageL1L2 %&gt;% mutate(age_bac = as.factor(case_when(age_au_bac_lib == &quot;A l&#39;heure ou en avance&quot; ~ &quot;A l&#39;heure ou en avance&quot;, age_au_bac_lib %in% c(&quot;En retard d&#39;un an&quot;, &quot;En retard de plus d&#39;un an&quot;) ~ &quot;En retard&quot;, age_au_bac_lib == &quot;Non pris en compte&quot; ~ &quot;Non pris en compte&quot;)), type_bac = as.factor(case_when(serie_bac_lib %in% c(&quot;BAC ES&quot;, &quot;BAC L&quot;, &quot;BAC S&quot;) ~ &quot;Bac général&quot;, serie_bac_lib %in% c(&quot;BAC STMG&quot;, &quot;BAC technologique hors STMG&quot;) ~ &quot;Bac technologique&quot;, serie_bac_lib == &quot;BAC professionnel&quot; ~ &quot;Bac professionnel&quot;)), mention_bac_bis = fct_collapse(mention_bac_lib, &#39;Passable&#39; = c(&quot;Passable deuxième groupe&quot;, &quot;Passable premier groupe&quot;)), mention_bac_bis = fct_relevel(mention_bac_bis, c(&quot;Très bien&quot;, &quot;Bien&quot;, &quot;Assez bien&quot;, &quot;Passable&quot;, &quot;Inconnue&quot;))) #table(PassageL1L2$mention_bac_lib,PassageL1L2$mention_bac_bis) En effeti, pour travailler sur les variables qualitatives en particulier lorsquelles sont en facteurs, le package forcats est très utile. Outre une fonction de transformation dune variable caractère en facteur (as_factor() proche de la version de baseR as.factor() utilisée juste au-dessus), elle contient plein dautres fonctions : fct_collapse() utilisée à la fin de la commande précédente pour renommer ou regrouper des modalités dune variable (au lieu de la double fonction as.factor() et case_when()) ; fct_relevel() utilisée également au-dessus pour trier les modalités comme on le souhaite ; fct_drop() pour enlever des niveaux de facteurs vides/sans effectifs ; fct_explicit_na() pour rendre les NA explicites en créant une modalité (missing) ; fct_reorder() et fct_reorder2() pour réordonner les modalités dune variable, très utile pour les graphiques car utilisables directement dans ggplot() ; fct_lump() pour regrouper les modalités les plus communes (ou au contraire les moins communes) en lui indiquant entre parenthèses le nombre n= de modalités souhaitées ou la proportion minimum souhaitée prop=, et en sélectionnant la variable avec la fonction pull() avant car elle doit être en format vecteur et non data.frame ; ou encore fct_recode() pour changer le niveau des facteurs ; fct_other() ; fct_infreq() et fct_inorder() ; etc. 4.2 Manipulation des variables quantitatives PassageL1L2 %&gt;% select_if(is.numeric) %&gt;% head(4) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #uxjhrqwenr .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #uxjhrqwenr .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #uxjhrqwenr .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #uxjhrqwenr .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #uxjhrqwenr .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uxjhrqwenr .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #uxjhrqwenr .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #uxjhrqwenr .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #uxjhrqwenr .gt_column_spanner_outer:first-child { padding-left: 0; } #uxjhrqwenr .gt_column_spanner_outer:last-child { padding-right: 0; } #uxjhrqwenr .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #uxjhrqwenr .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #uxjhrqwenr .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #uxjhrqwenr .gt_from_md > :first-child { margin-top: 0; } #uxjhrqwenr .gt_from_md > :last-child { margin-bottom: 0; } #uxjhrqwenr .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #uxjhrqwenr .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #uxjhrqwenr .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #uxjhrqwenr .gt_row_group_first td { border-top-width: 2px; } #uxjhrqwenr .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #uxjhrqwenr .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #uxjhrqwenr .gt_first_summary_row.thick { border-top-width: 2px; } #uxjhrqwenr .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uxjhrqwenr .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #uxjhrqwenr .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #uxjhrqwenr .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #uxjhrqwenr .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #uxjhrqwenr .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #uxjhrqwenr .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #uxjhrqwenr .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #uxjhrqwenr .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #uxjhrqwenr .gt_left { text-align: left; } #uxjhrqwenr .gt_center { text-align: center; } #uxjhrqwenr .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #uxjhrqwenr .gt_font_normal { font-weight: normal; } #uxjhrqwenr .gt_font_bold { font-weight: bold; } #uxjhrqwenr .gt_font_italic { font-style: italic; } #uxjhrqwenr .gt_super { font-size: 65%; } #uxjhrqwenr .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #uxjhrqwenr .gt_asterisk { font-size: 100%; vertical-align: 0; } #uxjhrqwenr .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #uxjhrqwenr .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #uxjhrqwenr .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } passage_en_l2_2_ans effectif_neobacheliers_passage passage_en_l2_1_2_ans reorientation_en_dut reorientation_en_dut_1_an redoublement_en_l1 passage_en_l2_1_an reorientation_en_dut_2_ans 0 1 0 0 0 0 0 0 0 10 0 1 1 4 0 0 1 3 3 0 0 1 2 0 NA NA NA NA NA NA NA NA Nous avons 8 variables numériques : notre variable clé effectif_neobacheliers_passage, 3 variables renseignant de lannée de passage en L2 - passage_en_l2_1_an, passage_en_l2_1_2_ans, passage_en_l2_2_ans, 1 variable de redoublement_en_l1, et de nouveau 3 variables renseignant la réorientation en DUT selon lannée - reorientation_en_dut, reorientation_en_dut_1_an, reorientation_en_dut_2_ans. On voit par ailleurs quil y a des valeurs manquantes pour ces variables. 4.2.1 Détecter et visualiser les données manquantes Même si linformation nous avait été donnée par la fonction summary(), on peut également compter le nombre de valeurs manquantes NA pour chacune des variables avec la fonction colSums(), cela est plus synthétique que summary() qui nous donne dautres informations par ailleurs : # ou en langage tidyverse sur les seules variables numériques : # PassageL1L2 %&gt;% filter_if(is.numeric) %&gt;% summarise_all(funs(sum(is.na(.)))) colSums(is.na(PassageL1L2)) passage_en_l2_2_ans effectif_neobacheliers_passage 959 959 sect_disciplinaire_lib sexe 0 0 age_au_bac_lib passage_en_l2_1_2_ans 0 959 serie_bac_lib age_au_bac 0 0 gd_discipline gd_discipline_lib 0 0 mention_bac_lib discipline 0 0 reorientation_en_dut discipline_lib 959 0 reorientation_en_dut_1_an redoublement_en_l1 959 959 passage_en_l2_1_an cohorte_passage 959 0 reorientation_en_dut_2_ans sect_disciplinaire 959 0 sexe_lib mention_bac 0 0 serie_bac age_bac 0 0 type_bac mention_bac_bis 0 0 #Pour les avoir en proportion : round(colMeans(is.na(PassageL1L2)*100),2) passage_en_l2_2_ans effectif_neobacheliers_passage 17.41 17.41 sect_disciplinaire_lib sexe 0.00 0.00 age_au_bac_lib passage_en_l2_1_2_ans 0.00 17.41 serie_bac_lib age_au_bac 0.00 0.00 gd_discipline gd_discipline_lib 0.00 0.00 mention_bac_lib discipline 0.00 0.00 reorientation_en_dut discipline_lib 17.41 0.00 reorientation_en_dut_1_an redoublement_en_l1 17.41 17.41 passage_en_l2_1_an cohorte_passage 17.41 0.00 reorientation_en_dut_2_ans sect_disciplinaire 17.41 0.00 sexe_lib mention_bac 0.00 0.00 serie_bac age_bac 0.00 0.00 type_bac mention_bac_bis 0.00 0.00 Différents packages existent pour détecter et visualiser les données manquantes. Un dentre eux est le package naniar : quelques fonctions permettent dabord de décrire la base selon ses valeurs manquantes. library(naniar) n_miss(PassageL1L2) #nombre de cellules du tableau ou de n_ij d&#39;une matrice [1] 7672 #qui correspondent à des valeurs manquantes pct_miss(PassageL1L2) #en proportion (déjà en %, sinon utiliser `prop_miss(PassageL1L2)`) [1] 5.357243 n_complete(PassageL1L2) #nombre de cellules du tableau ou de n_ij d&#39;une matrice [1] 135536 #qui correspondent à des valeurs renseignées pct_complete(PassageL1L2) #en proportion [1] 94.64276 # 1er type de visualisation des valeurs manquantes PassageL1L2 %&gt;% gg_miss_var() On peut également demander dans gg_miss_var() à ce que les valeurs soient en pourcentage, avec largument show_pct=TRUE. On peut aussi réaliser des graphiques montrant le nombre de valeurs manquantes pour lensemble des variables numériques de la base, en fonction dune autre variable de nature catégorielle. Cela est intéressant pour voir si certaines valeurs manquantes des variables se retrouvent davantage dans des modalités précises dune autre variable. Par exemple, ici, selon la série au bac : PassageL1L2 %&gt;% select(where(is.numeric), serie_bac_lib) %&gt;% gg_miss_fct(fct = serie_bac_lib) On voit que les valeurs manquantes sont plus nombreuses pour la modalité BAC L et sont le moins nombreuses dans la modalité BAC S ; elles ne se distribuent ainsi pas de manière uniforme selon la variable de série du bac, en revanche comme on lavait vu les proportions sont les mêmes quelle que soit la valeur manquante Plus généralement, la fonction gg_miss_upset() de ce package permet de visualiser des dépendances entre les valeurs manquantes des variables ; mais ici cela na pas grand intérêt en réalité car les valeurs manquantes sont présentes pour toutes les variables numériques aux mêmes cellules Voici le code néanmoins. PassageL1L2 %&gt;% select_if(is.numeric) %&gt;% gg_miss_upset() toujours pour information, une autre fonction pour visualiser des combinaisons entre des variables comportant des valeurs manquantes est aggr() du package VIM. De même, voici le code : library(VIM) PassageL1L2 %&gt;% select_if(is.numeric) %&gt;% aggr(sortVar=TRUE, only.miss = TRUE) Enfin, il est possible dappliquer la fonction geom_miss_point() à un ggplot, dans ce cas les valeurs manquantes de la ou des variables sont remplacées par des valeurs 10% plus basses que la valeur minimum observée des variables, et cela afin de les visualiser. Il existe bien sûr bien dautres packages, comme funModeling, Amelia et sa fonction missmap(), ou encore visdat et sa fonction vis_miss(), etc. Dautres packages comme VIM ou MICE permettent non seulement de visualiser ces valeurs manquantes mais de leur appliquer des techniques pour les gérer, cest ce que lon va voir maintenant en résumé. 4.2.2 Gérer les données manquantes Il est bien de connaître le nombre et la proportion de valeurs manquantes dans nos données, comment ces dernières se répartissent entre elles, etc., mais il faut aussi comprendre quel impact elles peuvent avoir sur des analyses statistiques, de régressions ou autres algorithmes. Dans une base de données tirée dune enquête, les valeurs manquantes proviennent dune non-réponse de la part de lenquêté (que ce soit un individu ou une entreprise), cette non-réponse peut être totale (on a aucune donnée pour cet enquêté alors quil fait partie de léchantillon) ou partielle (on a une partie des réponses mais pas à toutes les questions et donc des variables parfois avec des valeurs manquantes) ; ou bien encore dune mauvaise saisie de linformation par lenquêteur. La pondération, si elle est présente dans une enquête, peut permettre de corriger de cette non-réponse totale, voire partielle. Les conséquences des valeurs manquantes dans une base de données dépend de plusieurs choses on doit se demander dabord si linformation perdue aurait été pertinente et/ou aurait apporté un élément particulier/supplémentaire. Ensuite, la perte éventuelle dinformation est-elle importante, en nombre/en proportion. Et enfin (et surtout), peut-elle créer un biais lors de lestimation et précision du phénomène que lon souhaite observer, décrire, analyser, etc. Selon limportance de ces conséquences, il faut traiter ces valeurs manquantes, cest-à-dire utiliser une procédure la plus adaptée possible selon le potentiel biais repéré. Traditionnellement dans la littérature, on distingue 3 types de valeurs manquantes : valeur manquante entièrement due au hasard (MCAR pour Missing completely at random) : il ny a pas de lien entre la valeur manquante pour une variable donnée et les autres variables, dit autrement la probabilité pour une variable quelle ait une valeur manquante est constante dans les données, elle ne diffère pas selon dautres caractéristiques des individus ; valeur manquante due au hasard (MAR pour Missing at random) : il y a un lien entre la valeur manquante pour une variable donnée et les valeurs observées dautres variables, cest-à-dire que la probabilité pour une variable quelle ait une valeur manquante dépend dautres variables (mais de leurs valeurs observées), elle ne sera donc pas la même selon les individus ; valeur ne manquant pas au hasard (NMAR pour Non missing at random) : il y a un lien entre la valeur manquante pour une variable et les valeurs manquantes/non observées dautres variables. Ce sont celles qui risquent dentraîner des biais importants si on ne les traite pas. Comment alors les gérer ? En pratique, il est dusage lorsque la proportion de valeurs manquantes ne dépasse pas 5% des données de ne rien faire de particulier ou simplement de les supprimer. Sinon, on essaye dappliquer plusieurs méthodes, simples ou plus complexes. Dans le cas de valeurs manquantes entièrement dues au hasard (MCAR) et/ou dune faible proportion des valeurs manquantes dans le total de la table de données, on peut décider de supprimer toutes les lignes qui contiennent au moins une valeur manquante, afin davoir une table de données complètes, on peut utiliser la fonction na.omit() ou complete.cases(). PassageL1L2_sansNA &lt;- na.omit(PassageL1L2) # OU : # PassageL1L2_sansNA &lt;- PassageL1L2[complete.cases(PassageL1L2), ] summary(PassageL1L2_sansNA) passage_en_l2_2_ans effectif_neobacheliers_passage Min. : 0.000 Min. : 1.00 1st Qu.: 0.000 1st Qu.: 2.00 Median : 0.000 Median : 6.00 Mean : 4.316 Mean : 35.12 3rd Qu.: 2.000 3rd Qu.: 23.00 Max. :571.000 Max. :2454.00 sect_disciplinaire_lib sexe Sciences juridiques : 186 1:2264 Langues et littératures étrangères: 170 2:2285 Psychologie : 169 Langues étrangères appliquées : 168 STAPS : 168 Histoire : 167 (Other) :3521 age_au_bac_lib passage_en_l2_1_2_ans A l&#39;heure ou en avance :1750 Min. : 0.00 En retard d&#39;un an :1439 1st Qu.: 1.00 En retard de plus d&#39;un an:1004 Median : 2.00 Non pris en compte : 356 Mean : 18.63 3rd Qu.: 8.00 Max. :1950.00 serie_bac_lib age_au_bac gd_discipline BAC ES : 890 R0:1750 DSA : 927 BAC L : 698 R1:1439 LLSH :2112 BAC professionnel : 356 R2:1004 SANTE: 9 BAC S :1046 R4: 356 SI :1333 BAC STMG : 694 STAPS: 168 BAC technologique hors STMG: 865 gd_discipline_lib mention_bac_lib Droit, gestion, économie, AES : 927 Assez bien : 896 Lettres, langues et sciences humaines:2112 Bien : 670 Santé : 9 Inconnue : 637 Sciences et sciences de l&#39;ingénieur :1333 Passable deuxième groupe: 925 STAPS : 168 Passable premier groupe :1045 Très bien : 376 discipline reorientation_en_dut 06 :1213 Min. : 0.000 15 : 924 1st Qu.: 0.000 04 : 457 Median : 0.000 02 : 398 Mean : 0.805 01 : 371 3rd Qu.: 0.000 05 : 359 Max. :79.000 (Other): 827 discipline_lib reorientation_en_dut_1_an Sciences humaines et sociales :1213 Min. : 0.0000 Sciences fondamentales et applications: 924 1st Qu.: 0.0000 Lettres, sciences du langage, arts : 457 Median : 0.0000 Sciences économiques, gestion : 398 Mean : 0.6186 Droit, sciences politiques : 371 3rd Qu.: 0.0000 Langues : 359 Max. :63.0000 (Other) : 827 redoublement_en_l1 passage_en_l2_1_an cohorte_passage Min. : 0.0 Min. : 0.00 2014:4549 1st Qu.: 0.0 1st Qu.: 0.00 Median : 1.0 Median : 1.00 Mean : 10.2 Mean : 14.32 3rd Qu.: 6.0 3rd Qu.: 6.00 Max. :1019.0 Max. :1494.00 reorientation_en_dut_2_ans sect_disciplinaire sexe_lib mention_bac Min. : 0.0000 36 : 186 Femme:2285 A: 376 1st Qu.: 0.0000 23 : 170 Homme:2264 B: 670 Median : 0.0000 32 : 169 C: 896 Mean : 0.1864 10 : 168 D:1045 3rd Qu.: 0.0000 24 : 168 P: 925 Max. :21.0000 27 : 167 Q: 637 (Other):3521 serie_bac age_bac type_bac 1: 698 A l&#39;heure ou en avance:1750 Bac général :2634 2: 890 En retard :2443 Bac professionnel: 356 3:1046 Non pris en compte : 356 Bac technologique:1559 4: 694 5: 865 6: 356 mention_bac_bis Très bien : 376 Bien : 670 Assez bien: 896 Passable :1970 Inconnue : 637 On se retrouve avec une table de 4 549 observations (lignes), on a donc perdu 959 observations, soit 17.41% des observations de la table initiale. Des techniques dimputation simple peuvent également être utilisées. On peut par exemple remplacer les valeurs manquantes dune variable quantitative par sa moyenne ou sa médiane, pour cela on peut utiliser la fonction replace_na() du package tidyr, ou impute() du package Hmisc, ou encore na.aggregate() du package zoo On donne ainsi une valeur artificielle pour remplacer la valeur manquante. Dans le cas de variables qualitatives, on peut, de même, imputer la modalité dominante (avec la fonction mode() du package Hmisc ; ou avec largument mode= du package zoo ). Par exemple, voici les codes pour remplacer les valeurs manquantes de la variable passage_en_l2_2_ans par sa moyenne (ici on ne fait pas tourner ces codes) : PassageL1L2 %&gt;% mutate(passage_en_l2_2_ans_bis=replace_na(passage_en_l2_2_ans, mean(passage_en_l2_2_ans, na.rm=TRUE))) library(Hmisc) PassageL1L2$passage_en_l2_2_ans_bis &lt;- with(PassageL1L2, impute(passage_en_l2_2_ans, mean)) library(zoo) PassageL1L2$passage_en_l2_2_ans_bis &lt;- na.aggregate(PassageL1L2$passage_en_l2_2_ans, FUN = mean) On peut néanmoins réaliser ce type dimputations simple de manière un petit peu plus subtile. Par exemple, la moyenne dune variable peut différer selon dautres variables. Dans ce cas, on va donc remplacer les valeurs manquantes de la variable selon la moyenne associée à chaque modalité de lautre variable en ajoutant un group_by() avant la fonction mutate() si lon utilise la fonction replace_na() par exemple. Si on ne veut pas supprimer ces lignes dobservations et perdre ainsi dautres informations (celles des variables pour lesquelles la valeur était renseignée pour cette même observation), on peut simplement créer une variable indicatrice de valeur manquante, habituellement 9 ou 999 pour des variables quantitatives, ou une modalité Manquant ou Missing pour des variables qualitatives. Plusieurs autres méthodes existent également dans le cas de valeurs manquantes dues au hasard (MAR), en voici la liste pour information et sans prétention dexhaustivité : - analyse pondérée pour des valeurs MAR qui consiste à calculer la probabilité quune observation soit complète et ensuite à affecter à chacune des observations complètes, un poids inversement proportionnel à cette probabilité ; - imputation de la dernière observation pour des données temporelles ; - imputation hot-deck qui consiste à remplacer la valeur manquante par une valeur observée chez un autre individu ayant les mêmes caractéristiques, ou cold-deck (même démarche que précédement, sauf que la valeur imputée vient dune autre source) ; - imputation par le plus proche voisin en utilisant une fonction de distance basée sur plusieurs autres variables/caractéristiques de lindividu ; - imputation par un modèle de régression où lon va remplacer la valeur manquante par une valeur prédite obtenue par régression sur données complètes de la variable comportant des valeurs manquantes. Il y a aussi des techniques plus complextes dimputation multiple qui consiste à créer plusieurs valeurs possibles pour une valeur manquante dune variable, cela peut être adaptée là aussi lorsque les valeurs manquantes sont dues au hasard (MAR). Vous trouverez de multiples ressources sur internet dans des ouvrages libres daccès, ou un chapitre avec des exemples dans louvrage principal support du cours (Husson, 2018). 4.2.3 Détecter et visualiser les données aberrantes Pour cela, on va utiliser une autre base, téléchargée sur opendatasoft à partir de la fonction créée lors de la séance de M. Grasland. Cette base dont le nom est aides-entreprises-covid-19-france renseigne du nombre daides financières et de leur montant accordées aux entreprises françaises durant la crise du covid_19, selon notamment le secteur dactivité et la localisation géographique. #rappel fonction (soit vous l&#39;avez encore dans votre environnement, soit #vous l&#39;avez sauvegardé et dans ce cas il faut l&#39;appeler, soit vous devez #refaire tourner les lignes de codes suivantes...) get_data &lt;- function(idtab, rows, start) { url &lt;- paste0(&quot;https://public.opendatasoft.com/api/records/1.0/search/?dataset=&quot;,idtab,&quot;&amp;q=&amp;rows=&quot;,rows,&quot;&amp;start=&quot;,start,sep=&quot;&quot;) x &lt;- GET(url) y &lt;- fromJSON(rawToChar((x$content))) don &lt;- y$records$fields return(don) } dt_aidesCovid &lt;- get_data(idtab = &quot;aides-entreprises-covid-19-france&quot;, rows=2000, start=0) dt_aidesCovid %&gt;% glimpse() Rows: 1,680 Columns: 13 $ reg_code &lt;int&gt; 84, 84, 84, 84, 27, 27, 27, 53, 53, 24, 24, 24~ $ geo_point_2d &lt;list&gt; &lt;45.263906, 5.573978&gt;, &lt;45.728000, 4.164813&gt;,~ $ naf_section_name &lt;chr&gt; &quot;Activités de services administratifs et de so~ $ nombre_entreprises &lt;int&gt; 1775, 3034, 6577, 6772, 61, 45, 233, 1134, 395~ $ plan &lt;chr&gt; &quot;Fonds de solidarité&quot;, &quot;Fonds de solidarité&quot;, ~ $ financial_support_count &lt;int&gt; 8428, 8936, 19967, 16910, 366, 194, 971, 8170,~ $ reg_name &lt;chr&gt; &quot;Auvergne-Rhône-Alpes&quot;, &quot;Auvergne-Rhône-Alpes&quot;~ $ naf_section_code &lt;chr&gt; &quot;N&quot;, &quot;F&quot;, &quot;F&quot;, &quot;Q&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot;R&quot;, &quot;G&quot;, &quot;~ $ total_meuros &lt;dbl&gt; 36.512123, 13.922570, 33.039981, 23.111363, 0.~ $ dep_name &lt;chr&gt; &quot;Isère&quot;, &quot;Loire&quot;, &quot;Rhône&quot;, &quot;Rhône&quot;, &quot;Nièvre&quot;, ~ $ iso3_code &lt;chr&gt; &quot;FXX&quot;, &quot;FXX&quot;, &quot;FXX&quot;, &quot;FXX&quot;, &quot;FXX&quot;, &quot;FXX&quot;, &quot;FXX~ $ dep_code &lt;chr&gt; &quot;38&quot;, &quot;42&quot;, &quot;69&quot;, &quot;69&quot;, &quot;58&quot;, &quot;89&quot;, &quot;89&quot;, &quot;29&quot;~ $ total &lt;dbl&gt; 36512123, 13922570, 33039981, 23111363, 736895~ Comme la base précédente, ces données sont micro-agrégées, mais de manière plus simple : ici une observation est juste le croisement dun secteur et dun département, il faut donc sommer les variables pour avoir une idée des montants. dt_aidesCovid %&gt;% summarise(total_aides=sum(total), total_aides_meuros=sum(total_meuros), nb_totales_aides=sum(financial_support_count), nb_totales_entre=sum(nombre_entreprises)) %&gt;% gt() %&gt;% fmt_number(columns = c(&quot;total_aides&quot;, &quot;total_aides_meuros&quot;, &quot;nb_totales_aides&quot;, &quot;nb_totales_entre&quot;), sep_mark = &quot; &quot;, decimals = 0) html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #dnnhlneltp .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #dnnhlneltp .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #dnnhlneltp .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #dnnhlneltp .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #dnnhlneltp .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #dnnhlneltp .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #dnnhlneltp .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #dnnhlneltp .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #dnnhlneltp .gt_column_spanner_outer:first-child { padding-left: 0; } #dnnhlneltp .gt_column_spanner_outer:last-child { padding-right: 0; } #dnnhlneltp .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #dnnhlneltp .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #dnnhlneltp .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #dnnhlneltp .gt_from_md > :first-child { margin-top: 0; } #dnnhlneltp .gt_from_md > :last-child { margin-bottom: 0; } #dnnhlneltp .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #dnnhlneltp .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #dnnhlneltp .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #dnnhlneltp .gt_row_group_first td { border-top-width: 2px; } #dnnhlneltp .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #dnnhlneltp .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #dnnhlneltp .gt_first_summary_row.thick { border-top-width: 2px; } #dnnhlneltp .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #dnnhlneltp .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #dnnhlneltp .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #dnnhlneltp .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #dnnhlneltp .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #dnnhlneltp .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #dnnhlneltp .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #dnnhlneltp .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #dnnhlneltp .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #dnnhlneltp .gt_left { text-align: left; } #dnnhlneltp .gt_center { text-align: center; } #dnnhlneltp .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #dnnhlneltp .gt_font_normal { font-weight: normal; } #dnnhlneltp .gt_font_bold { font-weight: bold; } #dnnhlneltp .gt_font_italic { font-style: italic; } #dnnhlneltp .gt_super { font-size: 65%; } #dnnhlneltp .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #dnnhlneltp .gt_asterisk { font-size: 100%; vertical-align: 0; } #dnnhlneltp .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #dnnhlneltp .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #dnnhlneltp .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } total_aides total_aides_meuros nb_totales_aides nb_totales_entre 35 358 264 997 35 358 10 520 869 2 016 007 On veut plus précisément étudier dans cette sous-section les possibles valeurs aberrantes. On peut alors sortir les valeurs maximum pour chacune de ces variables. dt_aidesCovid %&gt;% summarise(aides_max=max(total), aides_meuros_max=max(total_meuros), nb_max_aides=max(financial_support_count), nb_max_entre=max(nombre_entreprises)) %&gt;% gt() %&gt;% fmt_number(columns = 2:4, sep_mark = &quot; &quot;, decimals = 0) html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #cqyvapopto .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #cqyvapopto .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #cqyvapopto .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #cqyvapopto .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #cqyvapopto .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cqyvapopto .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #cqyvapopto .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #cqyvapopto .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #cqyvapopto .gt_column_spanner_outer:first-child { padding-left: 0; } #cqyvapopto .gt_column_spanner_outer:last-child { padding-right: 0; } #cqyvapopto .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #cqyvapopto .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #cqyvapopto .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #cqyvapopto .gt_from_md > :first-child { margin-top: 0; } #cqyvapopto .gt_from_md > :last-child { margin-bottom: 0; } #cqyvapopto .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #cqyvapopto .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #cqyvapopto .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #cqyvapopto .gt_row_group_first td { border-top-width: 2px; } #cqyvapopto .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #cqyvapopto .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #cqyvapopto .gt_first_summary_row.thick { border-top-width: 2px; } #cqyvapopto .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cqyvapopto .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #cqyvapopto .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #cqyvapopto .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #cqyvapopto .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cqyvapopto .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #cqyvapopto .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #cqyvapopto .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #cqyvapopto .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #cqyvapopto .gt_left { text-align: left; } #cqyvapopto .gt_center { text-align: center; } #cqyvapopto .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #cqyvapopto .gt_font_normal { font-weight: normal; } #cqyvapopto .gt_font_bold { font-weight: bold; } #cqyvapopto .gt_font_italic { font-style: italic; } #cqyvapopto .gt_super { font-size: 65%; } #cqyvapopto .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #cqyvapopto .gt_asterisk { font-size: 100%; vertical-align: 0; } #cqyvapopto .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #cqyvapopto .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #cqyvapopto .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } aides_max aides_meuros_max nb_max_aides nb_max_entre 1641182219 1 641 183 570 35 372 Ou faire quelques graphs sur la variable du montant total des aides en milliers deuros total_meuros pour mieux visualiser de possibles valeurs aberrantes, de manière générale avec un histogramme ou ventilées par région avec des boîtes à moustache : dt_aidesCovid %&gt;% ggplot() + aes(x=total_meuros) + geom_histogram(bins=150) dt_aidesCovid %&gt;% ggplot() + aes(x = reg_name, y = total_meuros) + geom_boxplot() + coord_flip() On voit en effet quelques points qui semblent des valeurs aberrantes ou outliers ; parfois, cest à tel point quon narrive même pas à distinguer les différentes valeurs de la distribution marquées par le Boxplot et les boxplot sont ramassées. Pour rappel, dans un boxplot, par défaut un point est affiché comme aberrant sil est en dehors de lintervalle suivant : \\(I=[Q_{1}1.5×IQR ; Q_{3}+1.5×IQR]\\), IQR étant lintervalle interquartile donc la différence entre Q1 et Q3. Mais sagit-il de vraies valeurs aberrantes ? Combien dobservations concernent-elles ? La fonction boxplot.stats() permet de récupérer les valeurs des observations indiquées comme aberrantes, comme cela on peut créer ensuite une variable indiquant si oui ou non lobservation a une valeur aberrante. Faisons-cela pour la variable total_meuros par exemple. #on récupère les valeurs de la partie &#39;out&#39; des sorties de la fonction, qui #correspondent aux valeurs de tout point de données qui se situe au-delà #des extrêmes de la boxplot nb_outliers &lt;- boxplot.stats(dt_aidesCovid$total_meuros)$out #on crée une variable dans notre table d&#39;&quot;identification&quot; de ces outliers #avec comme modalité intiale/par défaut &quot;Faux&quot; dt_aidesCovid$total_meuros_outliers &lt;- &quot;Faux&quot; #on lui indique la modalité &quot;vraie&quot; si l&#39;observation a une valeur &quot;outliers&quot; #pour cette variable dt_aidesCovid$total_meuros_outliers[dt_aidesCovid$total_meuros %in% c(nb_outliers)] &lt;- &quot;Vrai&quot; #puis on regarde la répartition dt_aidesCovid %&gt;% tabyl(total_meuros_outliers) %&gt;% adorn_pct_formatting() %&gt;% adorn_totals(&quot;row&quot;) # A tibble: 3 x 3 total_meuros_outliers n percent &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; 1 Faux 1485 88.4% 2 Vrai 195 11.6% 3 Total 1680 - On y lit que pour cette variable, il y aurait près de 11,6% de valeurs aberrantes telles quindiquées par le boxplot, cela fait beaucoup ! On peut regarder plus précisément à quelles observations elles correspondent et à quel montant. dt_aidesCovid %&gt;% filter(total_meuros_outliers==&#39;Vrai&#39;) %&gt;% select(total_meuros, naf_section_name, dep_name) %&gt;% arrange(desc(total_meuros)) %&gt;% head(10) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #ofnbgilrzn .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #ofnbgilrzn .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ofnbgilrzn .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #ofnbgilrzn .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #ofnbgilrzn .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ofnbgilrzn .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ofnbgilrzn .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #ofnbgilrzn .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #ofnbgilrzn .gt_column_spanner_outer:first-child { padding-left: 0; } #ofnbgilrzn .gt_column_spanner_outer:last-child { padding-right: 0; } #ofnbgilrzn .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #ofnbgilrzn .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #ofnbgilrzn .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #ofnbgilrzn .gt_from_md > :first-child { margin-top: 0; } #ofnbgilrzn .gt_from_md > :last-child { margin-bottom: 0; } #ofnbgilrzn .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #ofnbgilrzn .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #ofnbgilrzn .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #ofnbgilrzn .gt_row_group_first td { border-top-width: 2px; } #ofnbgilrzn .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ofnbgilrzn .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #ofnbgilrzn .gt_first_summary_row.thick { border-top-width: 2px; } #ofnbgilrzn .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ofnbgilrzn .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ofnbgilrzn .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #ofnbgilrzn .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #ofnbgilrzn .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ofnbgilrzn .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ofnbgilrzn .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #ofnbgilrzn .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ofnbgilrzn .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ofnbgilrzn .gt_left { text-align: left; } #ofnbgilrzn .gt_center { text-align: center; } #ofnbgilrzn .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #ofnbgilrzn .gt_font_normal { font-weight: normal; } #ofnbgilrzn .gt_font_bold { font-weight: bold; } #ofnbgilrzn .gt_font_italic { font-style: italic; } #ofnbgilrzn .gt_super { font-size: 65%; } #ofnbgilrzn .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #ofnbgilrzn .gt_asterisk { font-size: 100%; vertical-align: 0; } #ofnbgilrzn .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #ofnbgilrzn .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #ofnbgilrzn .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } total_meuros naf_section_name dep_name 1641.1822 Hébergement et restauration Paris 554.4675 Commerce Paris 549.1241 Activités spécialisées, scientifiques et techniques Paris 416.7967 Activités de services administratifs et de soutien Paris 414.8821 Arts, spectacles et activités récréatives Paris 413.4086 Hébergement et restauration Alpes-Maritimes 409.7685 Hébergement et restauration Bouches-du-Rhône 355.9510 Hébergement et restauration Rhône 333.9413 Hébergement et restauration Nord 292.2122 Hébergement et restauration Gironde OK donc on voit que cette procédure attribue des valeurs aberrantes à des observations qui seraient intéressants néanmoins à conserver, donc attention à identifier les valeurs dites aberrantes, éventuellement avec plusieurs méthodes (cf. ci-dessous) et surtout à les comprendre ensuite, il ne sagit pas juste de les identifier pour les exclure ensuite des analyses. Il existe en effet bien dautres méthodes (méthode basée sur les percentiles ; méthode de Hampel), ainsi que des tests : par exemple, le package outliers vous permet de tester si une valeur (max ou min) est bien une valeur aberrante avec la fonction grubbs.test() (attention bis : à utiliser avec grande attention et beaucoup de parcimonie), ou avec le package EnvStats et la fonction rosnerTest() pour détecter plusieurs outliers à la fois. Pour gérer ces variables aberrantes, on peut les supprimer bien sûr si lon est sûr que la valeur de la variable nest pas normale, par exemple si on a une variable de salaire avec des modalités inférieures à 0, oui dans ce cas ce sont des mauvais outliers (et dailleurs peut-être même pas identifiés comme tel statistiquement) et on peut les supprimer ; de même pour des variables de résultats économiques, on va souvent élaguer la distribution en retirant les 1% (par exemple) du bas et du haut de la distribution pour supprimer des potentiels outliers. Sinon, on les isole en créant une variable dichotomique 0/1 ou Faux/Vrai ; ou on crée une variable qualitative avec plusieurs catégories. Dans les graphiques, en particulier les boîtes à moustache, on peut les supprimer du graphique et mettre une échelle plus réduite pour que celui-ci soit plus lisible, mais en précisant bien dans la légende que certaines valeurs ne sont pas visibles car enlevées. dt_aidesCovid %&gt;% ggplot() + aes(x = reg_name, y = total_meuros) + geom_boxplot(outlier.shape = NA) + coord_flip(ylim = c(0,175)) + labs(title = &quot;Distribution des aides financières en millions d&#39;euros, selon la région&quot;, y=&quot;&quot;, x=&quot;Région&quot;, caption=&quot;Rq : les valeurs au-delà de 175 millions d&#39;euros ne sont pas affichées sur le graphique.&quot;) + theme(plot.caption = element_text(hjust=0)) 4.2.4 Découper en classes une variable quantitative On peut enfin découper en classes une variable quantitative et en faire donc une variable qualitative. On utilise pour cela la fonction cut() du langage de base de R. On peut par exemple découper la variable selon les principaux indicateurs de distribution. dt_aidesCovid %&gt;% get_summary_stats(total_meuros) # A tibble: 1 x 13 variable n min max median q1 q3 iqr mad mean sd se &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1 total_meur~ 1680 0.006 1641. 5.99 1.83 17.6 15.8 7.54 21.0 60.3 1.47 # ... with 1 more variable: ci &lt;dbl&gt; dt_aidesCovid$total_meuros_cat &lt;- cut(dt_aidesCovid$total_meuros, breaks = c(0, quantile(dt_aidesCovid$total_meuros,0.25), mean(dt_aidesCovid$total_meuros), max(dt_aidesCovid$total_meuros))) dt_aidesCovid %&gt;% tabyl(total_meuros_cat) %&gt;% adorn_pct_formatting() %&gt;% adorn_totals(&quot;row&quot;) %&gt;% gt() html { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif; } #xnbvvtqfsl .gt_table { display: table; border-collapse: collapse; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #xnbvvtqfsl .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xnbvvtqfsl .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #xnbvvtqfsl .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 0; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #xnbvvtqfsl .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xnbvvtqfsl .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #xnbvvtqfsl .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #xnbvvtqfsl .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #xnbvvtqfsl .gt_column_spanner_outer:first-child { padding-left: 0; } #xnbvvtqfsl .gt_column_spanner_outer:last-child { padding-right: 0; } #xnbvvtqfsl .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #xnbvvtqfsl .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; } #xnbvvtqfsl .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #xnbvvtqfsl .gt_from_md > :first-child { margin-top: 0; } #xnbvvtqfsl .gt_from_md > :last-child { margin-bottom: 0; } #xnbvvtqfsl .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #xnbvvtqfsl .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #xnbvvtqfsl .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #xnbvvtqfsl .gt_row_group_first td { border-top-width: 2px; } #xnbvvtqfsl .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xnbvvtqfsl .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #xnbvvtqfsl .gt_first_summary_row.thick { border-top-width: 2px; } #xnbvvtqfsl .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xnbvvtqfsl .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #xnbvvtqfsl .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #xnbvvtqfsl .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #xnbvvtqfsl .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #xnbvvtqfsl .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xnbvvtqfsl .gt_footnote { margin: 0px; font-size: 90%; padding-left: 4px; padding-right: 4px; padding-left: 5px; padding-right: 5px; } #xnbvvtqfsl .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #xnbvvtqfsl .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #xnbvvtqfsl .gt_left { text-align: left; } #xnbvvtqfsl .gt_center { text-align: center; } #xnbvvtqfsl .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #xnbvvtqfsl .gt_font_normal { font-weight: normal; } #xnbvvtqfsl .gt_font_bold { font-weight: bold; } #xnbvvtqfsl .gt_font_italic { font-style: italic; } #xnbvvtqfsl .gt_super { font-size: 65%; } #xnbvvtqfsl .gt_footnote_marks { font-style: italic; font-weight: normal; font-size: 75%; vertical-align: 0.4em; } #xnbvvtqfsl .gt_asterisk { font-size: 100%; vertical-align: 0; } #xnbvvtqfsl .gt_slash_mark { font-size: 0.7em; line-height: 0.7em; vertical-align: 0.15em; } #xnbvvtqfsl .gt_fraction_numerator { font-size: 0.6em; line-height: 0.6em; vertical-align: 0.45em; } #xnbvvtqfsl .gt_fraction_denominator { font-size: 0.6em; line-height: 0.6em; vertical-align: -0.05em; } total_meuros_cat n percent (0,1.83] 420 25.0% (1.83,21] 901 53.6% (21,1.64e+03] 359 21.4% Total 1680 - #PassageL1L2 %&gt;% group_by(reor_dut_binaire) %&gt;% summarise(som = sum(effectif_neobacheliers_passage, na.rm=T)) On a une classe majoritaire (du Q1 à la moyenne), mais cela nous permet de distinguer 2 classes pour lesquelles le montant des aides financières est très faible ou au contraire très élevé. A noter que si la variable quantitative en question a des valeurs manquantes, il faudra utiliser la fonction fancycut() ou wafflecut() du package fancycut, linconvénient est que cela nous oblige à indiquer les valeurs des différents indicateurs de la distribution. Le code serait alors le suivant : library(fancycut) dt_aidesCovid$total_meuros_cat1 &lt;- fancycut(dt_aidesCovid$total_meuros, &#39;1&#39;=&#39;(0,1.83]&#39;, &#39;2&#39;=&#39;(1.83,21]&#39;, &#39;3&#39;=&#39;(21,1.64e+03]&#39;, na.bucket=&#39;Manquant&#39;) # On enregistre la table de données pour l&#39;utiliser ultérieurement saveRDS(object = PassageL1L2, file = &quot;data/PassageL1L2.Rdata&quot;) saveRDS(object = dt_aidesCovid, file = &quot;data/dt_aidesCovid.Rdata&quot;) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
